(function(t){function e(e){for(var c,n,s=e[0],i=e[1],u=e[2],d=0,l=[];d<s.length;d++)n=s[d],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&l.push(r[n][0]),r[n]=0;for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(t[c]=i[c]);p&&p(e);while(l.length)l.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],c=!0,n=1;n<a.length;n++){var s=a[n];0!==r[s]&&(c=!1)}c&&(o.splice(e--,1),t=i(i.s=a[0]))}return t}var c={},n={app:0},r={app:0},o=[];function s(t){return i.p+"js/"+({}[t]||t)+"."+{"chunk-0226466c":"3a950c41","chunk-2d0be2dc":"5a6dc206","chunk-2d0e9bbf":"ea4fe46c","chunk-2d0efca2":"f4476334","chunk-2d230491":"40271725","chunk-2e6c9880":"28f7293b","chunk-31b6ccb3":"56f8faaf","chunk-50b970de":"c7c6b6a8","chunk-60731014":"bc3db5f7","chunk-61d1d19f":"c4621ece","chunk-6d3d92d5":"a48638aa","chunk-7c2a26bf":"777bcd8c","chunk-7e619839":"bd107f83","chunk-f06b7d02":"af080dbc"}[t]+".js"}function i(e){if(c[e])return c[e].exports;var a=c[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(t){var e=[],a={"chunk-0226466c":1,"chunk-2e6c9880":1,"chunk-31b6ccb3":1,"chunk-50b970de":1,"chunk-60731014":1,"chunk-61d1d19f":1,"chunk-6d3d92d5":1,"chunk-7c2a26bf":1,"chunk-7e619839":1,"chunk-f06b7d02":1};n[t]?e.push(n[t]):0!==n[t]&&a[t]&&e.push(n[t]=new Promise((function(e,a){for(var c="css/"+({}[t]||t)+"."+{"chunk-0226466c":"da5ac3f1","chunk-2d0be2dc":"31d6cfe0","chunk-2d0e9bbf":"31d6cfe0","chunk-2d0efca2":"31d6cfe0","chunk-2d230491":"31d6cfe0","chunk-2e6c9880":"c4ee3e9f","chunk-31b6ccb3":"6cbed2d7","chunk-50b970de":"76a5caee","chunk-60731014":"bc9e98e3","chunk-61d1d19f":"6e388b36","chunk-6d3d92d5":"d42cf12d","chunk-7c2a26bf":"c0007258","chunk-7e619839":"fd4bab5d","chunk-f06b7d02":"cb6f5f1f"}[t]+".css",r=i.p+c,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var u=o[s],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===c||d===r))return e()}var l=document.getElementsByTagName("style");for(s=0;s<l.length;s++){u=l[s],d=u.getAttribute("data-href");if(d===c||d===r)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var c=e&&e.target&&e.target.src||r,o=new Error("Loading CSS chunk "+t+" failed.\n("+c+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=c,delete n[t],p.parentNode.removeChild(p),a(o)},p.href=r;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){n[t]=0})));var c=r[t];if(0!==c)if(c)e.push(c[2]);else{var o=new Promise((function(e,a){c=r[t]=[e,a]}));e.push(c[2]=o);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,i.nc&&d.setAttribute("nonce",i.nc),d.src=s(t);var l=new Error;u=function(e){d.onerror=d.onload=null,clearTimeout(p);var a=r[t];if(0!==a){if(a){var c=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+c+": "+n+")",l.name="ChunkLoadError",l.type=c,l.request=n,a[1](l)}r[t]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:d})}),12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(e)},i.m=t,i.c=c,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)i.d(a,c,function(e){return t[e]}.bind(null,c));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/VueCli3/",i.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var p=d;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"11d7":function(t,e,a){"use strict";a("30b2")},1203:function(t,e,a){"use strict";a("be7b")},"30b2":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("8e6e");var c=a("ade3"),n=(a("456d"),a("ac6a"),a("cadf"),a("551c"),a("f751"),a("097d"),a("2b0e")),r=a("2f62"),o=a("bc3a"),s=a.n(o),i=a("130e"),u=a("9062"),d=a.n(u),l=(a("e40d"),a("7bb1")),p=a("60d4"),f=a("4c93"),h=(a("4989"),a("f5af")),m=a.n(h),g=(a("e829"),a("58ca")),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("RouterView")],1)},v=[],O={name:"App",metaInfo:{title:"幸福烘焙",titleTemplate:"%s | 幸福烘焙"}},C=O,y=(a("5c0b"),a("2877")),k=Object(y["a"])(C,b,v,!1,null,null,null),L=k.exports,M=a("8c4f"),w=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"Customer"},[c("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),c("header",[c("div",{staticClass:"indexContainer header"},[c("RouterLink",{staticClass:"logo",attrs:{to:"/"}},[c("img",{attrs:{src:a("bd51"),alt:"幸福烘焙logo"}})]),c("a",{staticClass:"navListA",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.openNavList.apply(null,arguments)}}},[c("i",{staticClass:"fas fa-bars"})]),c("ul",{staticClass:"navList"},[c("li",[c("RouterLink",{staticClass:"active",attrs:{to:"/"}},[c("strong",[t._v("首頁")])])],1),c("li",[c("RouterLink",{attrs:{to:"/ProductList/all"}},[t._v("線上訂購")])],1),c("li",[c("RouterLink",{attrs:{to:"/Search"}},[t._v("訂單查詢")])],1),c("li",[c("RouterLink",{attrs:{to:"/StoreBase"}},[t._v("門市據點")])],1)]),c("button",{directives:[{name:"show",rawName:"v-show",value:t.cartA,expression:"cartA"}],staticClass:"cartA",attrs:{type:"button",id:"btn"},on:{click:t.openCartModal}},[c("i",{staticClass:"fas fa-shopping-cart"}),0!==t.cart.carts.length?c("span",[t._v(t._s(t.cart.carts.length))]):t._e()])],1)]),c("main",{staticClass:"flex-grow-1 flex-shrink-1"},[c("RouterView",{on:{closeNavList:t.closeNavList}})],1),t._m(0),c("div",{staticClass:"p-3 w-100 flex-grow-0 flex-shrink-0"},[t._m(1),c("div",{staticClass:"d-flex justify-content-center mt-2"},[t._m(2),c("RouterLink",{tag:"a",staticClass:"ml-3",attrs:{href:"#",to:"/login"}},[c("i",{staticClass:"fas fa-wrench"}),t._v("管理者模式")])],1)]),c("Modal"),c("AlertMSG")],1)},j=[function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("footer",{staticClass:"bg-dark text-muted p-2 flex-grow-0 flex-shrink-0"},[c("div",{staticClass:"footer indexContainer"},[c("ul",{staticClass:"mb-0 pl-0"},[c("li",{staticClass:"footerLogo"},[c("img",{staticClass:"mr-3",attrs:{src:a("9d64"),alt:"幸福烘焙"}}),c("p",{staticClass:"mb-0"},[t._v("台灣第一家泡芙專賣店，我們賣的是令人吃了幸福的泡芙。")])]),c("li",{staticClass:"copyright align-self-center"},[c("p",{staticClass:"text-center text-white"},[t._v("Copyright © 2022 by Occur")])]),c("li",{staticClass:"shopContact"},[c("a",{staticClass:"mx-2 text-white",attrs:{href:"https://www.facebook.com/frenchkisspuff/",target:"_blank",title:"Facebook"}},[c("i",{staticClass:"fab fa-facebook-square"})]),c("a",{staticClass:"mx-2 text-white",attrs:{href:"https://page.line.me/xat.0000188480.ubo?openQrModal=true",target:"_blank",title:"Line"}},[c("i",{staticClass:"fab fa-line"})]),c("a",{staticClass:"mx-2 text-white",attrs:{href:"https://www.instagram.com/hengfookbakery/",target:"_blank",title:"Instagrame"}},[c("i",{staticClass:"fab fa-instagram"})])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"text-center m-1"},[t._v("本網站僅個人練習使用．不做任何商業用途。商品圖片與內容均為"),a("a",{attrs:{href:"https://www.frenchkiss.com.tw/"}},[t._v("幸福烘焙")]),t._v("所有")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:"https://github.com/Occur55170/",title:"github"}},[a("i",{staticClass:"fab fa-github"}),t._v("GitHub")])}],A=a("1157"),E=a.n(A),S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"message-alert"},t._l(t.messages,(function(e,c){return a("div",{key:c,staticClass:"alert"},[a("i",{staticClass:"fas fa-exclamation-circle"}),t._v("\n      "+t._s(e.message)+"\n    ")])})),0)])},_=[];function T(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);e&&(c=c.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,c)}return a}function P(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?T(Object(a),!0).forEach((function(e){Object(c["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var x={name:"AlertMSG",methods:P({},Object(r["b"])("alertModules",["updateMessage","removeMessageWithTiming"])),computed:P({},Object(r["c"])("alertModules",["messages"]))},D=x,R=(a("7056"),Object(y["a"])(D,S,_,!1,null,"2e8ce26d",null)),I=R.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal cartMoadl",attrs:{id:"cartMoadl"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.closeCartModal.apply(null,arguments)}}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"cart-header"},[a("h5",{staticClass:"cart-title",attrs:{id:"exampleModalLabel"}},[t._v("購物車")]),a("a",{staticClass:"btn btn-white",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.closeCartModal.apply(null,arguments)}}},[a("i",{staticClass:"text-white fas fa-times-circle mb-0"})])]),a("div",{staticClass:"cart-body"},[0==t.cart.carts.length?a("div",{staticClass:"text-center h5 p-3 mb-0"},[a("h3",{staticClass:"text-center my-5"},[t._v("您尚未加入商品至購物車")])]):t._e(),0!==t.cart.carts.length?a("div",[a("ul",t._l(t.cart.carts,(function(e){return a("li",{key:e.id},[a("img",{attrs:{src:e.product.imageUrl,alt:e.product.title}}),a("div",{staticClass:"w-100"},[a("p",{staticClass:"title"},[t._v(t._s(e.product.title))]),a("div",{staticClass:"price d-flex"},[a("div",{staticClass:"w-50 d-flex align-items-center"},[a("a",{staticClass:"co-or",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.correctCart(e.product.id,-1)}}},[a("i",{staticClass:"fas fa-minus"})]),a("span",{staticClass:"w-75 text-center"},[t._v(t._s(e.qty))]),a("a",{staticClass:"co-or",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.correctCart(e.product.id,1)}}},[a("i",{staticClass:"fas fa-plus"})])]),a("div",{staticClass:"w-50 text-right"},[t._v("\n                    "+t._s(t._f("corrency")(e.product.price))+"/"+t._s(e.product.unit)+"\n                  ")])]),a("a",{staticClass:"text-muted close",attrs:{href:"#","data-title":"取消加入購物車"},on:{click:function(a){return a.preventDefault(),t.removeCart(e.product.id)}}},[a("i",{staticClass:"fas fa-trash-alt"})])])])})),0)]):t._e()]),a("div",{staticClass:"cart-footer"},[0!==t.cart.carts.length?a("a",{on:{click:function(e){return e.preventDefault(),t.goOrder.apply(null,arguments)}}},[a("i",{staticClass:"fa fa-cart-plus",attrs:{"aria-hidden":"true"}}),t._v(" 結帳去")]):t._e(),0==t.cart.carts.length?a("a",{staticClass:"btn bg-or text-white",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.goProduct.apply(null,arguments)}}},[t._v("趕快去逛逛")]):t._e()])])])])},q=[];function G(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);e&&(c=c.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,c)}return a}function $(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?G(Object(a),!0).forEach((function(e){Object(c["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):G(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var V={data:function(){return{}},methods:$({closeCartModal:function(){E()("#cartMoadl").modal("hide")},openCartModal:function(){E()("#cartMoadl").modal("show")},goOrder:function(){E()("#cartMoadl").modal("hide"),localStorage.setItem("checkoutStep","1"),this.$router.push("/Checkout")},goProduct:function(){"/ProductList/all"!==this.$route.path&&this.$router.push("ProductList/all"),this.closeCartModal()},removeCart:function(t){this.$store.dispatch("cartsModules/removeCart",t)},correctCart:function(t,e){this.$store.dispatch("cartsModules/correctCart",{pid:t,qty:e})}},Object(r["b"])("cartsModules",["getCart"])),computed:$({},Object(r["c"])("cartsModules",["cart","cartA"])),created:function(){this.getCart(),this.$store.dispatch("cartsModules/updateCartA",!0)}},U=V,J=(a("1203"),Object(y["a"])(U,N,q,!1,null,"649c8dc3",null)),W=J.exports;function F(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);e&&(c=c.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,c)}return a}function H(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?F(Object(a),!0).forEach((function(e){Object(c["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):F(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var B={name:"Customer",methods:{openNavList:function(){E()(".navList").slideToggle()},closeNavList:function(){document.body.offsetWidth<600&&E()(".navList").hide()},openCartModal:function(){E()("#cartMoadl").modal("show")}},computed:H(H({},Object(r["c"])(["isLoading"])),Object(r["c"])("cartsModules",["cart","cartA"])),components:{AlertMSG:I,Modal:W}},z=B,K=(a("11d7"),Object(y["a"])(z,w,j,!1,null,"0d2800e6",null)),Q=K.exports;n["a"].use(M["a"]);var Y=new M["a"]({routes:[{name:"登入頁",path:"/Login",component:function(){return a.e("chunk-7c2a26bf").then(a.bind(null,"7a6a"))}},{path:"/Admin",component:function(){return a.e("chunk-2e6c9880").then(a.bind(null,"d4c8"))},meta:{requiresAuth:!0},children:[{name:"產品頁",path:"Products",component:function(){return a.e("chunk-2d0efca2").then(a.bind(null,"9a37"))},meta:{requiresAuth:!0}},{name:"優惠卷頁面",path:"Coupon",component:function(){return a.e("chunk-2d0e9bbf").then(a.bind(null,"8f94"))},meta:{requiresAuth:!0}},{name:"訂單列表",path:"OrderList",component:function(){return a.e("chunk-2d230491").then(a.bind(null,"ec41"))},meta:{requiresAuth:!0}},{name:"模擬_購物頁面頁",path:"/AdminOrder",component:function(){return a.e("chunk-61d1d19f").then(a.bind(null,"4554"))},meta:{requiresAuth:!0}},{name:"模擬_結帳頁面",path:"/AdminCheckout/:id",component:function(){return a.e("chunk-2d0be2dc").then(a.bind(null,"2ec6"))},meta:{requiresAuth:!0}}]},{path:"/",component:Q,children:[{path:"",name:"Home",component:function(){return a.e("chunk-0226466c").then(a.bind(null,"d92c"))}},{name:"門市據點",path:"/StoreBase",component:function(){return a.e("chunk-f06b7d02").then(a.bind(null,"37da"))}},{name:"查詢訂單",path:"/Search",component:function(){return a.e("chunk-31b6ccb3").then(a.bind(null,"18fc"))}},{name:"產品列表",path:"/ProductList/:sortId",component:function(){return a.e("chunk-7e619839").then(a.bind(null,"f5ae"))}},{name:"產品資訊頁",path:"/Product/:id",component:function(){return a.e("chunk-50b970de").then(a.bind(null,"23d2"))}},{name:"顧客結帳頁面",path:"/Checkout",component:function(){return a.e("chunk-60731014").then(a.bind(null,"017a"))}},{name:"顧客付款頁面",path:"/Pay/:id",component:function(){return a.e("chunk-6d3d92d5").then(a.bind(null,"a4ed"))}}]},{path:"*",redirect:"/"}]}),X=(a("55dd"),{strict:!0,namespaced:!0,state:{productList:[],product:{},groupList:[],sort:"all",productContent:"",similar:[]},actions:{getProducts:function(t,e){t.dispatch("updateLoad",!0,{root:!0});var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("occur","/products/all");s.a.get(a).then((function(e){e.data.success&&(t.commit("PRODUCTlIST",e.data.products),t.commit("GLIST",e.data.products),t.dispatch("updateLoad",!1,{root:!0}))}))},getProduct:function(t,e){t.dispatch("updateLoad",!0,{root:!0});var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("occur","/product/").concat(e);s.a.get(a).then((function(e){e.data.success&&(t.commit("PRODUCT",e.data.product),t.commit("PRODUCTCONTENT",e.data.product.content),t.dispatch("updateLoad",!1,{root:!0}))})).then((function(){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("occur","/products/all");s.a.get(e).then((function(e){e.data.success&&(t.commit("PRODUCTlIST",e.data.products),t.dispatch("updateLoad",!1,{root:!0}))})).then((function(){t.commit("ADDSIMILAR")}))}))},changGroup:function(t,e){t.commit("SORT",e)}},mutations:{PRODUCTlIST:function(t,e){t.productList=e},GLIST:function(t,e){e.map((function(e){-1===t.groupList.indexOf(e.category)&&t.groupList.push(e.category)}))},PRODUCT:function(t,e){t.similar=[],t.product=e},PRODUCTCONTENT:function(t,e){for(var a=e,c=[],n=0;a.length>n;n++)"♥"===a[n]&&0!==n&&c.push("<br>&nbsp;"),c.push(a[n]);t.productContent=c.join("")},SORT:function(t,e){t.sort=e},ADDSIMILAR:function(t,e){for(var a=t.productList.filter((function(e){return e.category===t.product.category})),c=function(e){var c=Math.floor(Math.random()*a.length),r=t.similar.some((function(t){return t.id===a[c].id}));r||a[c].title===t.product.title?e-=1:t.similar.push(a[c]),n=e},n=0;n<4;n++)c(n)}},getters:{productList:function(t){return"all"!==t.sort?t.productList.filter((function(e){return e.category===t.sort})):t.productList},groupList:function(t){return t.groupList},product:function(t){return t.product},productContent:function(t){return t.productContent},similarList:function(t){return t.similar}}}),Z=(a("7514"),{strict:!0,namespaced:!0,state:{cart:{carts:[],total:0,final_total:0},cartA:!0},actions:{getCart:function(t,e){t.dispatch("updateLoad",!0,{root:!0});var a=JSON.parse(localStorage.getItem("carts"))||[];t.commit("CARTS",a),t.dispatch("updateLoad",!1,{root:!0})},addCart:function(t,e){var a=e.pid,c=void 0!==a&&a,n=e.prod,r=void 0!==n&&n,o=e.qty;t.dispatch("updateLoad",!0,{root:!0});var s=t.state.cart.carts;if(c){var i=t.rootState.productsModules.productList.find((function(t){return t.id===c}));s.find((function(t){return t.product.id===c}))?t.dispatch("correctCart",{pid:c,qty:o}):t.commit("ADDCART",{product:i,qty:o})}else if(r){var u=r.id;s.find((function(t){return t.product.id===r.id}))?t.dispatch("correctCart",{pid:u,qty:o}):t.commit("ADDCART",{product:r,qty:o})}else this.dispatch("alertModules/updateMessage","加入購物車失敗，請重新整理後再加入購物車一次")},removeCart:function(t,e){t.dispatch("updateLoad",!0,{root:!0});var a=t.state.cart.carts,c=a.indexOf(a.find((function(t){return t.product.id===e})));t.commit("REMOVECART",c)},correctCart:function(t,e){var a=e.pid,c=e.qty;t.dispatch("updateLoad",!0,{root:!0});var n=t.state.cart.carts,r=n.indexOf(n.find((function(t){return t.product.id===a}))),o=c>0?"已新增商品":"已刪除商品";t.commit("CORRECTCART",{index:r,qty:c,msg:o}),this.dispatch("updateLoad",!1,{root:!0})},clearCart:function(t,e){t.dispatch("updateLoad",!0,{root:!0});var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("occur","/cart");s.a.get(a).then((function(e){if(e.data.success){var a=e.data.data.carts;if(0!==a.length){var c=0;a.forEach((function(e){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("occur","/cart/").concat(e.id);s.a.delete(n).then((function(t){t.data.success&&(c+=1)})).then((function(){c===a.length&&t.dispatch("updateCart")}))}))}else t.dispatch("updateCart")}}))},updateCart:function(t,e){t.dispatch("updateLoad",!0,{root:!0});var a=t.state.cart.carts,c=0;a.forEach((function(e){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("occur","/cart"),r={product_id:e.product.id,qty:e.qty};s.a.post(n,{data:r}).then((function(e){e.data.success&&(c+=1,c===a.length&&t.dispatch("initCart"))}))}))},initCart:function(t,e){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("occur","/cart");s.a.get(a).then((function(e){e.data.success&&(t.commit("CARTS",e.data.data.carts),t.commit("FINAL_TOTAL",e.data.data.final_total),t.commit("TOTAL",e.data.data.total),t.dispatch("updateLoad",!1,{root:!0}))}))},UpdateRemoveCart:function(t,e){t.dispatch("updateLoad",!0,{root:!0}),t.dispatch("removeCart",e),localStorage.setItem("carts",JSON.stringify(t.state.cart.carts));var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("occur","/cart/").concat(e);s.a.delete(a).then((function(e){e.data.success&&(localStorage.setItem("carts",JSON.stringify(t.state.cart.carts)),t.dispatch("updateLoad",!1,{root:!0}))}))},updateCartA:function(t,e){t.commit("CARTA",e)}},mutations:{CARTS:function(t,e){t.cart.carts=e,localStorage.setItem("carts",JSON.stringify(t.cart.carts)),this.dispatch("updateLoad",!1,{root:!0})},ADDCART:function(t,e){t.cart.carts.push(e),localStorage.setItem("carts",JSON.stringify(t.cart.carts)),this.dispatch("alertModules/updateMessage","已新增商品"),this.dispatch("updateLoad",!1,{root:!0})},REMOVECART:function(t,e){t.cart.carts.splice(e,1),localStorage.setItem("carts",JSON.stringify(t.cart.carts)),this.dispatch("alertModules/updateMessage","已刪除商品"),this.dispatch("updateLoad",!1,{root:!0})},CORRECTCART:function(t,e){var a=e.index,c=e.qty,n=e.msg;t.cart.carts[a].qty+=c,t.cart.carts[a].qty<1&&t.cart.carts.splice(a,1),this.dispatch("alertModules/updateMessage",n),localStorage.setItem("carts",JSON.stringify(t.cart.carts))},TOTAL:function(t,e){t.cart.total=e},FINAL_TOTAL:function(t,e){t.cart.final_total=e},CARTA:function(t,e){t.cartA=e}},getters:{cart:function(t){return t.cart},cartA:function(t){return t.cartA}}}),tt={namespaced:!0,state:{messages:[]},actions:{updateMessage:function(t,e){var a=Math.floor(new Date/1e3);t.commit("UPDATEMESSAGE",{message:e,timestamp:a}),t.dispatch("removeMessageWithTiming",a)},removeMessageWithTiming:function(t,e){var a=this;setTimeout((function(){t.state.messages.forEach((function(c,n){c.timestamp===e&&(t.commit("REMOVEMESSAGE",n),a.dispatch("updateLoad",!1))}))}),1e3)}},mutations:{UPDATEMESSAGE:function(t,e){t.messages.push(e)},REMOVEMESSAGE:function(t,e){t.messages.splice(e,1)}},getters:{messages:function(t){return t.messages}}},et={strict:!0,namespaced:!0,state:{isLoading:!1,messages:[]},actions:{updateload:function(t,e){t.commit("LOAD",e)},updateMessage:function(t,e){var a=e.message,c=e.success,n=Math.floor(new Date/1e3);t.commit("MESSAGE",{message:a,success:c,timestamp:n}),t.dispatch("removeMessageWithTiming",n)},removeMessage:function(t,e){t.commit("REMOVEMESSAGE",e)},removeMessageWithTiming:function(t,e){t.commit("REMOVEMESSAGEWITHTIME",e)}},mutations:{LOAD:function(t,e){t.isLoading=e},MESSAGE:function(t,e){t.messages.push(e)},REMOVEMESSAGEWITHTIME:function(t,e){setTimeout((function(){t.messages.forEach((function(a,c){a.timestamp===e&&t.messages.splice(c,1)}))}),5e3)},REMOVEMESSAGE:function(t,e){t.messages.splice(e,1)}},getters:{isLoading:function(t){return t.isLoading},messages:function(t){return t.messages}}};n["a"].use(r["a"]);var at=new r["a"].Store({strict:!1,namespaced:!0,state:{isLoading:!1},actions:{updateLoad:function(t,e){t.commit("LOAD",e)},addCoupon:function(t,e){var a=this;t.dispatch("updateLoad",!0,{root:!0});var c={code:e},n="".concat("https://vue-course-api.hexschool.io","/api/").concat("occur","/coupon");s.a.post(n,{data:c}).then((function(e){e.data.success?(t.dispatch("cartsModules/initCart"),t.dispatch("updateLoad",!1),a.dispatch("alertModules/updateMessage",e.data.message)):a.dispatch("alertModules/updateMessage",e.data.message)}))}},mutations:{LOAD:function(t,e){t.isLoading=e}},getters:{isLoading:function(t){return t.isLoading}},modules:{productsModules:X,alertModules:tt,cartsModules:Z,backendModules:et}}),ct=(a("a481"),a("c5f6"),function(t){var e=Number(t);return"$".concat(e.toFixed(0).replace(/./g,(function(t,e,a){var c=e&&"."!==t&&(a.length-e)%3===0?", ".concat(t).replace(/\s/g,""):t;return c})))}),nt=function(t){var e=new Date(1e3*t),a=e.getFullYear(),c=e.getMonth()+1,n=e.getDate(),r=e.getHours(),o=e.getMinutes(),s=e.getSeconds();return"".concat(a,"/").concat(c,"/").concat(n,"  ").concat(r,":").concat(o,":").concat(s)};function rt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);e&&(c=c.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,c)}return a}function ot(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?rt(Object(a),!0).forEach((function(e){Object(c["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):rt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}n["a"].filter("corrency",ct),n["a"].filter("dateDue",nt),n["a"].use(i["a"],s.a),n["a"].use(r["a"]),n["a"].use(g["a"]),n["a"].component("Loading",d.a),n["a"].config.productionTip=!1,Object.keys(f).forEach((function(t){Object(l["d"])(t,f[t])})),Object(l["d"])("oneOf",ot(ot({},f["oneOf"]),{},{message:"請選擇付款方式"})),Object(l["e"])("zh_TW",p),n["a"].component("ValidationObserver",l["a"]),n["a"].component("ValidationProvider",l["b"]),Object(l["c"])({classes:{valid:"is-valid",invalid:"is-invalid"}}),new n["a"]({created:function(){m.a.init({duration:"500"})},store:at,render:function(t){return t(L)},router:Y}).$mount("#app"),Y.beforeEach((function(t,e,a){if(t.meta.requiresAuth){var c="".concat("https://vue-course-api.hexschool.io","/api/user/check");s.a.post(c).then((function(t){t.data.success?a():a({path:"/Login"})}))}else a()}))},"5c0b":function(t,e,a){"use strict";a("b47d")},7056:function(t,e,a){"use strict";a("7b74")},"7b74":function(t,e,a){},"9d64":function(t,e,a){t.exports=a.p+"img/logo.a8832912.png"},b47d:function(t,e,a){},bd51:function(t,e,a){t.exports=a.p+"img/headLogo.33726563.png"},be7b:function(t,e,a){}});
//# sourceMappingURL=app.2eed4325.js.map