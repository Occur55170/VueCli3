(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d230491"],{ec41:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"text-right"}),r("table",{staticClass:"table mt-4"},[t._m(0),r("tbody",t._l(t.orderList,(function(e){return r("tr",{key:e.id},[r("td",[t._v(t._s(e.id))]),r("td",t._l(e.products,(function(e){return r("div",{key:e.id},[r("p",[t._v('"'+t._s(e.product.category)+'" '+t._s(e.product.title)+" "+t._s(e.qty)+" "+t._s(e.product.unit))])])})),0),r("td",[r("div",[r("p",[t._v("姓名: "+t._s(e.user.name))]),r("p",[t._v("電話: "+t._s(e.user.tel))]),r("p",[t._v("地址: "+t._s(e.user.address))]),r("p",[t._v("email: "+t._s(e.user.email))]),r("p",[t._v("訂單時間: "+t._s(t._f("dateDue")(e.create_at)))])])]),r("td",[t._v(t._s(t._f("corrency")(e.total)))]),r("td",[r("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(r){return t.editModal(e)}}},[t._v("編輯")])]),r("td",[e.is_paid?r("span",{staticClass:"text-success"},[t._v("已經付款")]):r("span",{staticClass:"text-danger"},[t._v("尚未付款")])])])})),0)]),r("div",{staticClass:"modal fade",attrs:{id:"oederModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[r("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[r("div",{staticClass:"modal-content border-0"},[t._m(1),r("div",{staticClass:"modal-body"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-10 mx-auto my-2"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"title"}},[t._v("付款方式")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.order.create_at,expression:"order.create_at"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"付款方式"},domProps:{value:t.order.create_at},on:{input:function(e){e.target.composing||t.$set(t.order,"create_at",e.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"title"}},[t._v("訂單編號")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.order.id,expression:"order.id"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入標題"},domProps:{value:t.order.id},on:{input:function(e){e.target.composing||t.$set(t.order,"id",e.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"title"}},[t._v("是否付款")]),t._v("\n                "+t._s(t.order.is_paid)+"\n              ")]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"title"}},[t._v("付款日期")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.order.paid_date,expression:"order.paid_date"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入標題"},domProps:{value:t.order.paid_date},on:{input:function(e){e.target.composing||t.$set(t.order,"paid_date",e.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"title"}},[t._v("總額")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.order.total,expression:"order.total"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入標題"},domProps:{value:t.order.total},on:{input:function(e){e.target.composing||t.$set(t.order,"total",e.target.value)}}})]),r("div",{staticClass:"form-group row mt-3"},[r("div",{staticClass:"col-6 mb-3"},[r("label",{attrs:{for:""}},[t._v("買家姓名")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.order.user.name,expression:"order.user.name"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入姓名"},domProps:{value:t.order.user.name},on:{input:function(e){e.target.composing||t.$set(t.order.user,"name",e.target.value)}}})]),r("div",{staticClass:"col-6 mb-3"},[r("label",{attrs:{for:""}},[t._v("買家電話")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.order.user.tel,expression:"order.user.tel"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入電話"},domProps:{value:t.order.user.tel},on:{input:function(e){e.target.composing||t.$set(t.order.user,"tel",e.target.value)}}})]),r("div",{staticClass:"col-6 mb-3"},[r("label",{attrs:{for:""}},[t._v("買家信箱")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.order.user.email,expression:"order.user.email"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入信箱"},domProps:{value:t.order.user.email},on:{input:function(e){e.target.composing||t.$set(t.order.user,"email",e.target.value)}}})]),r("div",{staticClass:"col-6 mb-3"},[r("label",{attrs:{for:""}},[t._v("買家地址")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.order.user.address,expression:"order.user.address"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入地址"},domProps:{value:t.order.user.address},on:{input:function(e){e.target.composing||t.$set(t.order.user,"address",e.target.value)}}})])]),r("div",{staticClass:"form-group"},[r("ul",{staticClass:"mt-5"},[r("p",[t._v("訂單商品 :")]),t._l(t.order.products,(function(e,a){return r("li",{key:a},[t._v("\n                      "+t._s(e.product.title)+" 數量："+t._s(e.qty)+"\n                      "+t._s(e.product.unit)+"\n                  ")])}))],2)])])])]),r("div",{staticClass:"modal-footer"},[r("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),r("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.updateOrder(t.order.id)}}},[t._v("確認")])])])])])])},s=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("th",{attrs:{width:"20%"}},[t._v("訂單編號")]),r("th",{attrs:{width:"30%"}},[t._v("購買內容")]),r("th",{attrs:{width:"25%"}},[t._v("買家資料")]),r("th",{attrs:{width:"10%"}},[t._v("應付金額")]),r("th",{attrs:{width:"10%"}},[t._v("修改訂單")]),r("th",{attrs:{width:"5%"}},[t._v("是否付款")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"modal-header bg-dark text-white"},[r("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[r("span",[t._v("新增產品")])]),r("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],o=(r("8e6e"),r("ac6a"),r("456d"),r("ade3")),i=r("1157"),d=r.n(i);function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function n(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){Object(o["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var c={name:"orderList",data:function(){return{orderList:[],pagination:{},order:{user:{}}}},methods:{getOrderList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this;e.$store.dispatch("backendModules/updateload",!0);var r="".concat("https://vue-course-api.hexschool.io","/api/").concat("occur","/admin/orders?page=").concat(t);e.$http.get(r).then((function(t){e.pagination=t.data.pagination,e.orderList=t.data.orders,e.$store.dispatch("backendModules/updateload",!1)}))},editModal:function(t){this.order=Object.assign(n({},t)),d()("#oederModal").modal("show")},updateOrder:function(t){var e=this,r="".concat("https://vue-course-api.hexschool.io","/api/").concat("occur","/admin/order/").concat(t);e.$http.put(r,{data:e.order}).then((function(t){t.data.success&&(e.$bus.$emit("message:push",t.data.message,"success"),e.$store.dispatch("backendModules/updateload",!1),d()("#oederModal").modal("hide"))}))}},created:function(){this.getOrderList()}},u=c,p=r("2877"),m=Object(p["a"])(u,a,s,!1,null,null,null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d230491.0d9d35a5.js.map