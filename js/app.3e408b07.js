(function(t){function e(e){for(var n,r,s=e[0],o=e[1],u=e[2],l=0,d=[];l<s.length;l++)r=s[l],Object.prototype.hasOwnProperty.call(c,r)&&c[r]&&d.push(c[r][0]),c[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);f&&f(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,r=1;r<a.length;r++){var s=a[r];0!==c[s]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},c={app:0},i=[];function s(t){return o.p+"js/"+({}[t]||t)+"."+{"chunk-1923b914":"d69482ed","chunk-1f6a056a":"6ce7c363","chunk-2d0be2dc":"af812ff9","chunk-2d0c11d6":"209863eb","chunk-2d0e9bbf":"035871e2","chunk-2d0efca2":"8b2d1f88","chunk-2d230491":"553c990d","chunk-38b4b7a0":"1f0b6a14","chunk-40651ea3":"4fd580e5","chunk-5de5200c":"ea6bc2f4","chunk-65170ab2":"5a58cba4","chunk-6a7fd42d":"ab07045d","chunk-6ea2e418":"4c5b2d42","chunk-d4f740cc":"e72898d1"}[t]+".js"}function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(t){var e=[],a={"chunk-1923b914":1,"chunk-1f6a056a":1,"chunk-38b4b7a0":1,"chunk-40651ea3":1,"chunk-5de5200c":1,"chunk-65170ab2":1,"chunk-6a7fd42d":1,"chunk-6ea2e418":1,"chunk-d4f740cc":1};r[t]?e.push(r[t]):0!==r[t]&&a[t]&&e.push(r[t]=new Promise((function(e,a){for(var n="css/"+({}[t]||t)+"."+{"chunk-1923b914":"2ade4e74","chunk-1f6a056a":"09cc7a25","chunk-2d0be2dc":"31d6cfe0","chunk-2d0c11d6":"31d6cfe0","chunk-2d0e9bbf":"31d6cfe0","chunk-2d0efca2":"31d6cfe0","chunk-2d230491":"31d6cfe0","chunk-38b4b7a0":"c9236d12","chunk-40651ea3":"36a465e0","chunk-5de5200c":"683a6918","chunk-65170ab2":"3e3c6446","chunk-6a7fd42d":"cfb82bc4","chunk-6ea2e418":"e8098bc8","chunk-d4f740cc":"bdd681d9"}[t]+".css",c=o.p+n,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var u=i[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===c))return e()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){u=d[s],l=u.getAttribute("data-href");if(l===n||l===c)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var n=e&&e.target&&e.target.src||c,i=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete r[t],f.parentNode.removeChild(f),a(i)},f.href=c;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){r[t]=0})));var n=c[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,a){n=c[t]=[e,a]}));e.push(n[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=s(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(f);var a=c[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+n+": "+r+")",d.name="ChunkLoadError",d.type=n,d.request=r,a[1](d)}c[t]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/VueCli3/",o.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var f=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"4faa":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("456d"),a("ac6a"),a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),r=a("bc3a"),c=a.n(r),i=a("130e"),s=a("9062"),o=a.n(s),u=(a("e40d"),a("7bb1")),l=a("60d4"),d=a("4c93"),f=(a("4989"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)}),h=[],p=(a("5c0b"),a("2877")),m={},v=Object(p["a"])(m,f,h,!1,null,null,null),g=v.exports,b=a("8c4f"),C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),n("header",[n("div",{staticClass:"indexContainer header"},[n("router-link",{staticClass:"logo",staticStyle:{color:"#EF8C1A"},attrs:{to:"/"}},[n("img",{attrs:{src:a("bd51"),alt:"幸福烘焙logo"}})]),n("a",{staticClass:"navListA",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.openNavList()}}},[n("i",{staticClass:"fas fa-bars"})]),n("ul",{staticClass:"navList"},[n("li",[n("router-link",{staticClass:"active",attrs:{to:"/"}},[n("strong",[t._v("首頁")])])],1),n("li",[n("router-link",{attrs:{to:"/productList/all"}},[t._v("產品列表")])],1),n("li",[n("router-link",{attrs:{to:"/Search"}},[t._v("查詢訂單")])],1),n("li",[n("router-link",{attrs:{to:"/Storebase"}},[t._v("門市據點")])],1)]),n("button",{staticClass:"cartA",attrs:{type:"button",id:"btn"},on:{click:function(e){return t.openCartModal()}}},[n("i",{staticClass:"fas fa-shopping-cart"}),0!=t.cartCount?n("span",[t._v(t._s(t.cartCount))]):t._e()])],1)]),n("main",[n("router-view",{attrs:{filterCarts:t.filterCarts},on:{LoadingModel:t.loadingEvent,getcart:t.getCart,closeNavList:t.closeNavList}})],1),t._m(0),n("div",{staticClass:"p-3 copyright"},[t._m(1),n("div",{staticClass:"d-flex justify-content-center mt-2"},[t._m(2),n("router-link",{tag:"a",staticClass:"ml-3",attrs:{href:"",to:"/login"}},[n("i",{staticClass:"fas fa-wrench"}),t._v("管理者模式")])],1)]),n("div",{staticClass:"modal cartMoadl",attrs:{id:"cartMoadl"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.closeCartModal()}}},[n("div",{staticClass:"modal-dialog"},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"cart-header"},[n("h5",{staticClass:"cart-title",attrs:{id:"exampleModalLabel"}},[t._v("購物車")]),n("a",{staticClass:"btn btn-white",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.closeCartModal()}}},[n("i",{staticClass:"text-white fas fa-times-circle mb-0"})])]),n("div",{staticClass:"cart-body"},[n("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.get.apply(null,arguments)}}},[t._v("get")]),t.cartMSG?n("div",{staticClass:"text-center h5 p-3 mb-0"},[n("h3",{staticClass:"text-center my-5"},[t._v("您尚未加入商品至購物車")]),n("a",{staticClass:"btn bg-or text-white",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.goPl()}}},[t._v("趕快去逛逛")])]):t._e(),t.cartMSG?t._e():n("div",[n("ul",t._l(t.filterCarts,(function(e){return n("li",{key:e.id},[n("img",{attrs:{src:e.product.imageUrl,alt:e.product.title}}),n("div",{staticClass:"w-100"},[n("p",{staticClass:"title"},[t._v(t._s(e.product.title))]),n("div",{staticClass:"price d-flex"},[n("div",{staticClass:"w-50 d-flex align-items-center"},[n("a",{staticClass:"co-or",attrs:{href:""},on:{click:function(a){return a.preventDefault(),t.correctCart(e.product_id,-1)}}},[n("i",{staticClass:"fas fa-minus"})]),n("span",{staticClass:"w-75 text-center"},[t._v(t._s(e.qty))]),n("a",{staticClass:"co-or",attrs:{href:""},on:{click:function(a){return a.preventDefault(),t.correctCart(e.product_id,1)}}},[n("i",{staticClass:"fas fa-plus"})])]),n("div",{staticClass:"w-50 text-right"},[t._v("\n                      "+t._s(t._f("corrency")(e.product.price))+"/"+t._s(e.product.unit)+"\n                    ")])]),n("a",{staticClass:"text-muted close",attrs:{href:"","data-title":"取消加入購物車"},on:{click:function(a){return a.preventDefault(),t.removeCart(e.product.id)}}},[n("i",{staticClass:"fas fa-trash-alt"})])])])})),0)])]),n("div",{staticClass:"cart-footer"},[t.cartMSG?t._e():n("a",{on:{click:function(e){return e.preventDefault(),t.goOrder()}}},[n("i",{staticClass:"fa fa-cart-plus",attrs:{"aria-hidden":"true"}}),t._v(" 結帳去")])])])])]),n("AlertMSG")],1)},k=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"bg-dark text-muted p-2"},[n("div",{staticClass:"footer indexContainer"},[n("ul",{staticClass:"mb-0 pl-0"},[n("li",{staticClass:"footerLogo"},[n("img",{staticClass:"mr-3",attrs:{src:a("9d64"),alt:"幸福烘焙"}}),n("p",{staticClass:"mb-0"},[t._v("台灣第一家泡芙專賣店，我們賣的是令人吃了幸福的泡芙。")])]),n("li",{staticClass:"copright align-self-center"},[n("p",{staticClass:"text-center text-white"},[t._v("Copyright © 2022 by Occur")])]),n("li",{staticClass:"shopContact"},[n("a",{staticClass:"mx-2 text-white",attrs:{href:"#",title:"Facebook"}},[n("i",{staticClass:"fab fa-facebook-square"})]),n("a",{staticClass:"mx-2 text-white",attrs:{href:"#",title:"Line"}},[n("i",{staticClass:"fab fa-line"})]),n("a",{staticClass:"mx-2 text-white",attrs:{href:"#",title:"Instagrame"}},[n("i",{staticClass:"fab fa-instagram"})])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"text-center m-1"},[t._v("本網站僅個人練習使用．不做任何商業用途。商品圖片與內容均為"),a("a",{attrs:{href:"https://www.frenchkiss.com.tw/"}},[t._v("幸福烘焙")]),t._v("所有")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:"https://github.com/Occur55170/",title:"github"}},[a("i",{staticClass:"fab fa-github"}),t._v("GitHub")])}],_=(a("7514"),a("1157")),y=a.n(_),x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"message-alert"},t._l(t.messages,(function(e,n){return a("div",{key:n,staticClass:"alert"},[a("i",{staticClass:"fas fa-exclamation-circle"}),t._v("\n      "+t._s(e.message)+"\n    ")])})),0)])},w=[],M={name:"AlertMSG",data:function(){return{messages:[]}},methods:{updateMessage:function(t){var e=Math.floor(new Date/1e3);this.messages.push({message:t,timestamp:e}),this.removeMessageWithTiming(e)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var e=this;setTimeout((function(){e.messages.forEach((function(a,n){a.timestamp===t&&e.messages.splice(n,1)}))}),1e3)}},created:function(){var t=this;t.$bus.$on("message:push",(function(e){t.updateMessage(e)}))}},L=M,E=(a("efdd"),Object(p["a"])(L,x,w,!1,null,"e8a2af2a",null)),O=E.exports,S={data:function(){return{msg:"Customer",isLoading:!1,cart:{carts:[]},filterCarts:[],cartCount:"",cartMSG:""}},methods:{loadingEvent:function(t){this.isLoading=t},openNavList:function(){y()(".navList").slideToggle()},closeNavList:function(){document.body.offsetWidth<600&&y()(".navList").hide()},closeCartModal:function(){y()("#cartMoadl").modal("hide")},openCartModal:function(){y()("#cartMoadl").modal("show")},goPl:function(){"/productList/all"!==this.$route.path&&this.$router.push("/productList/all"),this.closeCartModal()},get:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("occur","/cart");t.$http.get(e).then((function(t){t.data.success&&console.log(t.data.data.carts)}))},chend:function(t){var e=this.filterCarts.find((function(e){return e.id===t}));this.filterCarts.splice(e,1)},getCart:function(t){var e=this;e.isLoading=!0;var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("occur","/cart");e.$http.get(a).then((function(a){a.data.success&&(e.cart=a.data.data,e.assortCarts(a.data.data.carts),void 0!==t&&e.$bus.$emit("message:push",t))}))},assortCarts:function(t){var e=this;e.filterCarts=[],t.forEach((function(t,a){var n=e.filterCarts.find((function(e,a){return e.product_id===t.product_id}));n?n.qty+t.qty<1?e.removeCart(t.product_id):n.qty=n.qty+t.qty:e.filterCarts.push(t)})),e.cartCount=e.filterCarts.length,e.cartCount?e.cartMSG=!1:e.cartMSG=!0,e.isLoading=!1},correctCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=this;a.loadingEvent(!0);var n=a.filterCarts.filter((function(e){return e.product_id===t}));if(n[0].qty+e<1)a.removeCart(t);else{var r="".concat("https://vue-course-api.hexschool.io","/api/").concat("occur","/cart");a.loadingEvent(!0),a.$http.post(r,{data:{product_id:t,qty:e}}).then((function(r){if(r.data.success){var c=a.filterCarts.find((function(e){return e.product_id===t}));c.qty=n[0].qty+e,a.loadingEvent(!1)}}))}},removeCart:function(t){var e=this;e.isLoading=!0;var a=e.cart.carts.filter((function(e){return e.product_id===t}));e.filterCart=e.filterCarts.filter((function(e){return e.product_id!==t})),a.forEach((function(n,r){var c="".concat("https://vue-course-api.hexschool.io","/api/").concat("occur","/cart/").concat(n.id);e.$http.delete(c).then((function(n){if(r+1===a.length){var c=e.filterCarts.find((function(e){return e.product_id===t}));e.filterCarts.splice(e.filterCarts.indexOf(c),1),e.cartCount=e.filterCarts.length,e.cartCount?e.cartMSG=!1:e.cartMSG=!0,e.loadingEvent(!1)}}))}))},goOrder:function(){var t=this;y()("#cartMoadl").modal("hide"),localStorage.setItem("checkoutStep","1"),t.$router.push("/Checkout")}},created:function(){this.getCart()},components:{AlertMSG:O}},A=S,q=(a("9791"),Object(p["a"])(A,C,k,!1,null,"2c03440b",null)),$=q.exports;n["a"].use(b["a"]);var j=new b["a"]({routes:[{path:"*",redirect:"/"},{name:"登入頁",path:"/Login",component:function(){return a.e("chunk-6a7fd42d").then(a.bind(null,"7a6a"))}},{path:"/admin",component:function(){return a.e("chunk-1f6a056a").then(a.bind(null,"6f8b"))},meta:{requiresAuth:!0},children:[{mame:"產品頁",path:"Products",component:function(){return a.e("chunk-2d0efca2").then(a.bind(null,"9a37"))},meta:{requiresAuth:!0}},{mame:"優惠卷頁面",path:"Coupon",component:function(){return a.e("chunk-2d0e9bbf").then(a.bind(null,"8f94"))},meta:{requiresAuth:!0}},{name:"訂單列表",path:"OrderList",component:function(){return a.e("chunk-2d230491").then(a.bind(null,"ec41"))},meta:{requiresAuth:!0}},{mame:"模擬_購物頁面頁",path:"/AdminOrder",component:function(){return a.e("chunk-2d0c11d6").then(a.bind(null,"4554"))},meta:{requiresAuth:!0}},{name:"模擬_結帳頁面",path:"/AdminCheckout/:id",component:function(){return a.e("chunk-2d0be2dc").then(a.bind(null,"2ec6"))},meta:{requiresAuth:!0}}]},{path:"/",component:$,children:[{path:"",name:"Home",component:function(){return a.e("chunk-d4f740cc").then(a.bind(null,"d92c"))}},{name:"門市據點",path:"/storeBase",component:function(){return a.e("chunk-40651ea3").then(a.bind(null,"dab1"))}},{name:"查詢訂單",path:"/Search",component:function(){return a.e("chunk-38b4b7a0").then(a.bind(null,"18fc"))}},{name:"產品列表",path:"/ProductList/:sortId",component:function(){return a.e("chunk-5de5200c").then(a.bind(null,"f5ae"))}},{name:"產品資訊頁",path:"/Product/:id",component:function(){return a.e("chunk-6ea2e418").then(a.bind(null,"23d2"))}},{name:"顧客結帳頁面",path:"/Checkout",component:function(){return a.e("chunk-65170ab2").then(a.bind(null,"017a"))}},{name:"顧客付款頁面",path:"/Pay/:id",component:function(){return a.e("chunk-1923b914").then(a.bind(null,"a4ed"))}}]}]});n["a"].prototype.$bus=new n["a"];var P=a("2f62");n["a"].use(P["a"]);var D=new P["a"].Store({state:{},mutations:{},actions:{}}),T=(a("a481"),a("c5f6"),function(t){var e=Number(t);return"$".concat(e.toFixed(0).replace(/./g,(function(t,e,a){var n=e&&"."!==t&&(a.length-e)%3===0?", ".concat(t).replace(/\s/g,""):t;return n})))}),G=function(t){var e=new Date(1e3*t),a=e.getFullYear(),n=e.getMonth()+1,r=e.getDate(),c=e.getHours(),i=e.getMinutes(),s=e.getSeconds();return"".concat(a,"/").concat(n,"/").concat(r,"  ").concat(c,":").concat(i,":").concat(s)};n["a"].filter("corrency",T),n["a"].filter("dateDue",G),n["a"].use(i["a"],c.a),n["a"].component("Loading",o.a),n["a"].config.productionTip=!1,Object.keys(d).forEach((function(t){Object(u["d"])(t,d[t])})),Object(u["e"])("zh_TW",l),n["a"].component("ValidationObserver",u["a"]),n["a"].component("ValidationProvider",u["b"]),Object(u["c"])({classes:{valid:"is-valid",invalid:"is-invalid"}}),new n["a"]({store:D,render:function(t){return t(g)},router:j}).$mount("#app"),j.beforeEach((function(t,e,a){if(t.meta.requiresAuth){var n="".concat("https://vue-course-api.hexschool.io","/api/user/check");c.a.post(n).then((function(t){console.log(t.data.success),t.data.success?a():a({path:"/Login"})}))}else a()}))},"5c0b":function(t,e,a){"use strict";a("e332")},9791:function(t,e,a){"use strict";a("4faa")},"9d64":function(t,e,a){t.exports=a.p+"img/logo.a8832912.png"},bd51:function(t,e,a){t.exports=a.p+"img/headLogo.33726563.png"},e332:function(t,e,a){},efdd:function(t,e,a){"use strict";a("fcd5")},fcd5:function(t,e,a){}});
//# sourceMappingURL=app.3e408b07.js.map